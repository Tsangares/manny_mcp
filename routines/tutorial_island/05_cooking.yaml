# Tutorial Island - Part 5: Cooking
# STATUS: IN PROGRESS
#
# This routine handles the cooking section:
# 1. Enter cooking building
# 2. Talk to Master Chef
# 3. Make bread dough (flour + water)
# 4. Cook bread on range
# 5. Exit to Quest Guide section

name: "Tutorial Island - Cooking"
type: tutorial
phase: 5

steps:
  - id: 1
    description: "Enter cooking building"
    action: INTERACT_OBJECT
    args: "Door Open"

  - id: 2
    description: "Talk to Master Chef"
    action: INTERACT_NPC
    args: "Master_Chef Talk-to"
    delay_before_ms: 2000

  - id: 3
    description: "Continue dialogue (space)"
    action: KEY_PRESS
    args: "Space"
    delay_before_ms: 2000

  - id: 4
    description: "Continue dialogue (space)"
    action: KEY_PRESS
    args: "Space"
    delay_before_ms: 1000

  - id: 5
    description: "Continue dialogue (space)"
    action: KEY_PRESS
    args: "Space"
    delay_before_ms: 1000

  - id: 6
    description: "Continue dialogue (space)"
    action: KEY_PRESS
    args: "Space"
    delay_before_ms: 1000

  - id: 7
    description: "Make bread dough"
    action: USE_ITEM_ON_ITEM
    args: "flour water"
    delay_before_ms: 1000
    notes: |
      CRITICAL: Use partial item names!
      - "flour" matches "Pot of flour"
      - "water" matches "Bucket of water"

  - id: 8
    description: "Continue dialogue after making dough"
    action: KEY_PRESS
    args: "Space"
    delay_before_ms: 2000

  - id: 9
    description: "Cook bread on range"
    action: USE_ITEM_ON_OBJECT
    args: "dough Range"
    delay_before_ms: 1000
    notes: "Partial name 'dough' works to match 'Bread dough'"

  - id: 10
    description: "Continue dialogue after cooking"
    action: KEY_PRESS
    args: "Space"
    delay_before_ms: 3000

  - id: 11
    description: "Walk to north door"
    action: GOTO
    args: "3073 3090 0"
    delay_before_ms: 1000
    # Door at (3072, 3090) - stand next to it

  - id: 12
    description: "Exit cooking building to Quest Guide area"
    action: INTERACT_OBJECT
    args: "Door Open"
    delay_before_ms: 1000
    # CRITICAL: North door at (3072, 3090) leads to Quest Guide
    # DO NOT use south door at (3079, 3084) - leads to maze area

# PITFALLS DISCOVERED:
# 1. USE_ITEM_ON_ITEM with full names like "Pot_of_flour" FAILS
#    - SOLUTION: Use partial names like "flour" and "water"
# 2. CLICK_CONTINUE doesn't exist - use KEY_PRESS Space
# 3. WRONG EXIT DOOR at (3079, 3084) leads to complex maze area

# After this routine:
# Player exits to Quest Guide area, ready for 06_quest_guide.yaml
